{"version":3,"sources":["/Users/kenji.morita/stanby-ats/stanby-ats-web/pg.markdown.ts"],"names":["AutoScroller","AutoScroller.constructor","AutoScroller.bindEvents","AutoScroller.scrollToTargetElement","AutoScroller.getComputedScrollTop"],"mappings":"AAEA,IAAM,YAAY;IAUhBA,SAVIA,YAAYA,CAUIA,WAAmBA;QAAnBC,gBAAWA,GAAXA,WAAWA,CAAQA;QAT/BA,aAAQA,GAAWA,GAAGA,CAACA;QACvBA,WAAMA,GAAWA,EAAEA,CAACA;QAEpBA,SAAIA,GAAWA,CAACA,CAACA,MAAMA,CAACA,CAACA;QACzBA,cAASA,GAAWA,CAACA,CAACA,YAAYA,CAACA,CAACA;QACpCA,UAAKA,GAAWA,CAACA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAACA;QACjCA,YAAOA,GAAWA,CAACA,CAACA,aAAaA,CAACA,CAACA;QAIzCA,IAAIA,CAACA,cAAcA,GAAGA,CAACA,CAACA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA;QAE1EA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,cAAcA,CAACA,MAAMA,CAACA,CAACA,CAACA;YAChCA,MAAMA,CAACA;QACTA,CAACA;QAEDA,IAAIA,CAACA,UAAUA,EAAEA,CAACA;IACpBA,CAACA;IAEOD,iCAAUA,GAAlBA;QAAAE,iBAKCA;QAJCA,IAAIA,CAACA,WAAWA,CAACA,EAAEA,CAACA,OAAOA,EAAEA,UAACA,CAACA;YAC7BA,KAAIA,CAACA,qBAAqBA,EAAEA,CAACA;YAC7BA,CAACA,CAACA,cAAcA,EAAEA,CAACA;QACrBA,CAACA,CAACA,CAACA;IACLA,CAACA;IAEOF,4CAAqBA,GAA7BA;QACEG,IACEA,eAAeA,GAAWA,IAAIA,CAACA,oBAAoBA,EAAEA,CAACA;QAExDA,IAAIA,CAACA,SAASA,CAACA,IAAIA,EAAEA,CAACA,OAAOA,CAACA;YAC5BA,SAASA,EAAEA,eAAeA;SAC3BA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,CAACA;IACpBA,CAACA;IAEOH,2CAAoBA,GAA5BA;QACEI,IACEA,YAAoBA,EACpBA,YAAYA,GAAWA,IAAIA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,EACjDA,iBAAiBA,GAAWA,IAAIA,CAACA,cAAcA,CAACA,MAAMA,EAAEA,CAACA,GAAGA,CAACA;QAE/DA,iBAAiBA,IAAIA,YAAYA,GAAGA,IAAIA,CAACA,MAAMA,CAACA;QAChDA,YAAYA,GAAGA,iBAAiBA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,CAACA;QAEtDA,EAAEA,CAACA,CAACA,YAAYA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,CAACA,CAACA;YACvCA,iBAAiBA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,CAACA;QAC/DA,CAACA;QAEDA,MAAMA,CAACA,iBAAiBA,CAACA;IAC3BA,CAACA;IACHJ,mBAACA;AAADA,CAnDA,AAmDCA,IAAA;AAED,CAAC,CAAC;IACA,CAAC,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC;QAC1B,IAAI,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","file":"scripts/pg.markdown.js","sourcesContent":["/// <reference path=\"./vendor_def/tsd.d.ts\" />\n\nclass AutoScroller {\n  private DURATION: number = 500;\n  private MARGIN: number = 20;\n\n  private $win: JQuery = $(window);\n  private $htmlbody: JQuery = $('html, body');\n  private $body: JQuery = $(document.body);\n  private $header: JQuery = $('#jsi-header');\n  private $contentTarget: JQuery;\n\n  constructor(private $linkTarget: JQuery) {\n    this.$contentTarget = $(this.$linkTarget.attr('href')).find('> h2').eq(0);\n\n    if (!this.$contentTarget.length) {\n      return;\n    }\n\n    this.bindEvents();\n  }\n\n  private bindEvents(): void {\n    this.$linkTarget.on('click', (e) => {\n      this.scrollToTargetElement();\n      e.preventDefault();\n    });\n  }\n\n  private scrollToTargetElement(): void {\n    var\n      scrollTopTarget: number = this.getComputedScrollTop();\n\n    this.$htmlbody.stop().animate({\n      scrollTop: scrollTopTarget\n    }, this.DURATION);\n  }\n\n  private getComputedScrollTop(): number {\n    var\n      scrollBottom: number,\n      heightHeader: number = this.$header.outerHeight(),\n      scrollTopResponse: number = this.$contentTarget.offset().top;\n\n    scrollTopResponse -= heightHeader + this.MARGIN;\n    scrollBottom = scrollTopResponse + this.$win.height();\n\n    if (scrollBottom > this.$body.height()) {\n      scrollTopResponse = this.$body.height() - this.$win.height();\n    }\n\n    return scrollTopResponse;\n  }\n}\n\n$(function () {\n  $('.jsc-autoscroller').each(function () {\n    new AutoScroller($(this));\n  });\n});"],"sourceRoot":"/source/"}