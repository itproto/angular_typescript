{"version":3,"sources":["/Users/kenji.morita/stanby-ats/stanby-ats-web/services/common/routes.ts","/Users/kenji.morita/stanby-ats/stanby-ats-web/controllers/users/users-corp-controller.ts","/Users/kenji.morita/stanby-ats/stanby-ats-web/services/users/user-accounts-service.ts","/Users/kenji.morita/stanby-ats/stanby-ats-web/controllers/users/users-create-controller.ts","/Users/kenji.morita/stanby-ats/stanby-ats-web/controllers/users/users-edit-controller.ts","/Users/kenji.morita/stanby-ats/stanby-ats-web/controllers/users/users-list-controller.ts","/Users/kenji.morita/stanby-ats/stanby-ats-web/user-page.ts"],"names":["stb","stb.ConfigService","stb.ConfigService.constructor","stb.ConfigService.getConfig","stb.ConfigService.getConfigPromise","stb.ConfigService.refreshConfig","stb.UserService","stb.UserService.constructor","stb.UserService.checkLogin","stb.UserService.getAccountInfoPromise","stb.UserService.getAccountInfo","stb.UserService.updateAccountInfo","stb.UserService.refreshAccountInfo","stb.UserService.checkLoggedIn","st","stanby","stanby.services","stanby.services.common","stanby.services.common.routes","stanby.services.common.routes.initRoutes","controllers","controllers.users","controllers.users.corp","controllers.users.corp.UserCorp","controllers.users.corp.UserCorp.constructor","controllers.users.corp.UserCorp.init","controllers.users.corp.UserCorp.validateForm","controllers.users.corp.UserCorp.updateInfo","stanby.services.users","stanby.services.users.UserAccountsService","stanby.services.users.UserAccountsService.constructor","stanby.services.users.UserAccountsService.getUser","stanby.services.users.UserAccountsService.create","stanby.services.users.UserAccountsService.save","stanby.services.users.UserAccountsService.saveUserStatus","stanby.services.users.UserAccountsService.doCreate","stanby.services.users.UserAccountsService.doUpdate","stanby.services.users.UserAccountsService.isEmailUnique","stanby.services.users.UserAccountsService.isEmailUniqueForUpdate","stanby.services.users.initUserAccountsService","controllers.users.create","controllers.users.create.UserCreate","controllers.users.create.UserCreate.constructor","controllers.users.create.UserCreate.updateRole","controllers.users.create.UserCreate.save","controllers.users.create.UserCreate.tooltip","controllers.users.create.UserCreate.setData","controllers.users.edit","controllers.users.edit.UserEdit","controllers.users.edit.UserEdit.constructor","controllers.users.edit.UserEdit.destroy","controllers.users.edit.UserEdit.updateRole","controllers.users.edit.UserEdit.save","controllers.users.edit.UserEdit.saveUserStatus","controllers.users.edit.UserEdit.tooltip","controllers.users.edit.UserEdit.setData","controllers.users.list","controllers.users.list.UserList","controllers.users.list.UserList.constructor","controllers.users.list.UserList.init","controllers.users.list.UserList.watchSearchParam","controllers.users.list.UserList.filterBySearch","controllers.users.list.UserList.filter","controllers.users.list.UserList.hasRole","stanby.page","stanby.page.users","stanby.page.users.initPage"],"mappings":"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","file":"scripts/user-page.js","sourcesContent":["/// <reference path=\"../../vendor_def/tsd.d.ts\" />\n\n\n\n\n\ninterface JQuery {\n  imgcentering(): void\n}\n\n\ninterface PopStateEvent {\n  dataTransfer: Object\n}\n\n\ninterface Object {\n  files: Object\n}\n\nmodule stb {\n  'use strict';\n\n  import acc = st.response.account\n  import cnf = st.response.configuration\n\n  export class ConfigService {\n    constructor(\n      private routes: st.Routes\n    ){}\n\n    private requestCount: number = 0;\n    private cachedPromise: ng.IHttpPromise<cnf.ConfigResponse>\n\n    public getConfig(callback: (res: cnf.ConfigResponse) => void) {\n\n      if(this.requestCount == 0){\n        this.refreshConfig();\n      }\n\n      this.cachedPromise.success((res: cnf.ConfigResponse) => {\n        if(callback) callback(res);\n      });\n    }\n\n    public getConfigPromise() {\n      if(this.requestCount == 0){\n        this.refreshConfig();\n      }\n\n      return this.cachedPromise;\n    }\n\n    private refreshConfig() {\n      this.cachedPromise = this.routes.configuration.retrieve();\n    }\n  }\n\n  export interface AccountInfoHandler {\n    (data?:acc.AccountInfoResponse): any\n  }\n  \n  export class UserService {\n\n    constructor(\n      private routes: st.Routes\n    ){}\n    \n    private requestCount: number = 0;\n    private cachedPromise:ng.IHttpPromise<acc.AccountInfoResponse>;\n\n\n    /**\n     * ログイン状態、非ログイン状態に応じて処理実行\n     * 初回コール時はHttpリクエストが発生するが2回目以降はキャッシュされた情報を利用する\n     * サーバに再問い合わせする場合は updateAccountInfo を利用 \n     * @param ifLogged: ログイン状態であれば実行する処理\n     * @param ifNotLogged: 非ログイン状態であれば実行する処理\n     */\n    public checkLogin(ifLogged: AccountInfoHandler, ifNotLogged?: Function){\n      if(this.requestCount == 0){\n        this.refreshAccountInfo();\n      }\n      this.checkLoggedIn(ifLogged, ifNotLogged);\n    }\n\n    public getAccountInfoPromise(): ng.IPromise<acc.AccountInfo> {\n      return this.cachedPromise.then((res) =>{\n          return res.data.account;\n      });\n    }\n\n    /**\n     * アカウント情報取得\n     * 初回コール時はHttpリクエストが発生するが2回目以降はキャッシュされた情報を利用する\n     * サーバに再問い合わせする場合は updateAccountInfo を利用\n     * @param callback\n     */\n    public getAccountInfo(ifLoggedInFunction: AccountInfoHandler) {\n      if(this.requestCount == 0){\n        this.refreshAccountInfo();\n      }\n      this.checkLoggedIn(ifLoggedInFunction, null);\n    }\n\n    /**\n     * 必ずサーバに問い合わせた上でアカウント情報を取得する\n     * 特に理由がなければ getAccountInfo でのキャッシュ利用を推奨\n     * @param callback\n     */\n    public updateAccountInfo(ifLoggedInFunction: AccountInfoHandler) {\n      this.refreshAccountInfo();\n      this.checkLoggedIn(ifLoggedInFunction, null);\n    }\n    \n    /* ==================\n     *  Assistant Methods\n     * ================== */\n    private refreshAccountInfo(): any {\n      this.requestCount++;\n      this.cachedPromise = this.routes.account.getAccountInfo();\n    }\n\n    private checkLoggedIn(ifLoggedInFunction   : AccountInfoHandler // ログイン済時に実行するFunction\n                         ,ifNotLoggedInFunction: Function           // 未ログイン時に実行するFunction\n                         ){\n      // NOTE(omiend): this.routes.account.getAccountInfo()はログインしていない場合「Status：200 - \"error.authentication\"」を返却\n      this.cachedPromise.success((data) => {\n        if (data.key === \"error.authentication\" && ifNotLoggedInFunction) {\n          ifNotLoggedInFunction();\n        } else if(ifLoggedInFunction){\n          ifLoggedInFunction(data);\n        }\n      });\n    }\n  }\n}\n\nmodule st {\n  'use strict';\n\n  export interface Routes {\n    configuration: routes.Configuration\n    utils: routes.Utils\n    jobs: routes.Jobs\n    applications: routes.Applications\n    interviews: routes.Interviews\n    docscreenings: routes.Docscreenings\n    corporate: routes.Corporate\n    corporatePublic: routes.CorporatePublic\n    users: routes.Users\n    profile: routes.Profile\n    account: routes.Account\n    images: routes.Images\n    validation: routes.Validation\n    masters: routes.Masters\n    contact: routes.Contact\n  }\n\n\n  export module routes {\n    import res = st.response\n    import QueryResultResponse = res.wrapper.QueryResultResponse;\n\n    export interface Configuration {\n      retrieve(): ng.IHttpPromise<response.configuration.ConfigResponse>\n    }\n\n    export interface Utils {\n      convertMarkdownToHtml(markdownText:string): ng.IHttpPromise<response.utils.HtmlText>\n    }\n\n    import ApplicationInfo          = res.applications.ApplicationInfo;\n    import ApplicationResponse      = res.applications.ApplicationResponse;\n    import ApplicationSearchParams  = res.applications.ApplicationSearchParams;\n    import AttachmentInfo           = res.applications.AttachmentInfo;\n\n    export interface Jobs {\n      list(): ng.IHttpPromise<response.jobs.JobListResponse>\n      findJobs(condition: ApplicationSearchParams): ng.IHttpPromise<response.jobs.JobListResponse>\n      detail(jobId:string): ng.IHttpPromise<response.jobs.Job>\n      create(data:any): ng.IHttpPromise<any>\n      update(jobId:string, data:any): ng.IHttpPromise<any>\n\n      detailFreeText(jobId:string): ng.IHttpPromise<any>\n\n      previewAsPc(data:any): ng.IHttpPromise<any>\n      previewAsMobile(data:any): ng.IHttpPromise<any>\n\n      applyPublishing(jobId:string): ng.IHttpPromise<any>\n      withdrawPublishing(jobId:string): ng.IHttpPromise<any>\n      cancelPublishing(jobId:string): ng.IHttpPromise<any>\n      updateClosingDay(jobId: string, closeAt: Date): ng.IHttpPromise<any>\n\n      validateAlias(data:any): ng.IHttpPromise<any>\n    }\n\n    export interface Applications {\n      list(condition: ApplicationSearchParams): ng.IHttpPromise<QueryResultResponse<ApplicationInfo>>\n      overviews(): ng.IHttpPromise<res.applications.ApplicationOverviewsResponse>\n      uploadTempFile(data)            : ng.IHttpPromise<AttachmentInfo>\n      details(applicationId:string)   : ng.IHttpPromise<ApplicationResponse>\n      fetchPhone(applicationId:string): any\n      fetchEmail(applicationId:string): any\n      downloadAttachment(applicationId: string, prefix: string, fileId: string): ng.IHttpPromise<any>\n      updateStatus(applicationId: string, selectionStage: string, versionNo: number): ng.IHttpPromise<any>\n      attachFile(applicationId, data) : ng.IHttpPromise<AttachmentInfo>\n      create(data:any): ng.IHttpPromise<any>\n      update(applicationId:string, data:any): ng.IHttpPromise<any>\n      addNote(applicationId:string, data: any): ng.IHttpPromise<any>\n      updateNote(applicationId:string, noteId, data: any): ng.IHttpPromise<any>\n    }\n\n\n    import Interview = res.interview.Interview;\n    import InterviewFeedback = res.interview.InterviewFeedback;\n    import InterviewSearchParams = res.interview.InterviewSearchParams;\n\n    export interface Interviews {\n      listAll(conditions : InterviewSearchParams)       : ng.IHttpPromise<QueryResultResponse<Interview>>\n      listAllToday(conditions : InterviewSearchParams)  : ng.IHttpPromise<QueryResultResponse<Interview>>\n      listMine(conditions : InterviewSearchParams)      : ng.IHttpPromise<QueryResultResponse<Interview>>\n      listMyUnrated(conditions : InterviewSearchParams) : ng.IHttpPromise<QueryResultResponse<Interview>>\n      detail(interviewId: string)                       : ng.IHttpPromise<Interview>\n      create(interview: Interview)                      : ng.IHttpPromise<any>\n      update(interviewId: string, interview: Interview) : ng.IHttpPromise<any>\n      addFeedback(interviewId: string, interviewfeedback: InterviewFeedback) : ng.IHttpPromise<any>\n      updateFeedback(interviewId: string, feedbackId, interviewfeedback: InterviewFeedback): ng.IHttpPromise<any>\n    }\n\n    export interface Docscreenings {\n      detail(interviewId: string)                       : ng.IHttpPromise<Interview>\n      create(interview: Interview)                      : ng.IHttpPromise<any>\n      update(interviewId: string, interview: Interview) : ng.IHttpPromise<any>\n      addFeedback(interviewId: string, interviewfeedback: InterviewFeedback) : ng.IHttpPromise<any>\n      updateFeedback(interviewId: string, feedbackId, interviewfeedback: InterviewFeedback): ng.IHttpPromise<any>\n    }\n\n    export interface Corporate {\n      update(any) : ng.IHttpPromise<any>\n      show()      : ng.IHttpPromise<any>\n    }\n\n    export interface Users {\n      list(status: string, role: string): ng.IHttpPromise<stanby.models.users.UserListResponse>\n      details(userId:string): ng.IHttpPromise<stanby.models.users.UserDetailResponse>\n      loginUserDetails(): ng.IHttpPromise<any>\n      create(data:any): ng.IHttpPromise<any>\n      update(userId:string, data:any): ng.IHttpPromise<any>\n      updateStatus(userId:string, data:any): ng.IHttpPromise<any>\n    }\n\n    export interface CorporatePublic {\n      show(): ng.IHttpPromise<any>\n      update(any): ng.IHttpPromise<any>\n    }\n\n    export interface Profile {\n      show(): ng.IHttpPromise<any>\n      update(data:any): ng.IHttpPromise<any>\n      changeEmail(data:any): ng.IHttpPromise<any>\n      changePassword(data:any): ng.IHttpPromise<any>\n      resendConfirmation(): ng.IHttpPromise<any>\n    }\n\n\n    export interface Account {\n      login(data:any): ng.IHttpPromise<any>\n      logout(): ng.IHttpPromise<any>\n      signup(data:any): ng.IHttpPromise<any>\n      forgotPassword(data:any): ng.IHttpPromise<any>\n      getAccountInfo(): ng.IHttpPromise<response.account.AccountInfoResponse>\n      verifySignup(token:string): ng.IHttpPromise<any>\n      verifyEmailChange(token:string): ng.IHttpPromise<any>\n      verifyForgotPassword(token:any): ng.IHttpPromise<any>\n      resetForgotPassword(data): ng.IHttpPromise<any>\n    }\n\n\n    export interface Images {\n\n      listLogos()   : ng.IHttpPromise<Array<res.images.PooledImage>>\n      listCovers()  : ng.IHttpPromise<Array<res.images.PooledImage>>\n      listInlines() : ng.IHttpPromise<Array<res.images.PooledImage>>\n\n      uploadLogo(data: any)           : ng.IHttpPromise<any>\n      uploadCover(data: any)          : ng.IHttpPromise<any>\n      uploadInline(data: any)         : ng.IHttpPromise<any>\n      deleteImage(imageId: string)    : ng.IHttpPromise<any>\n\n      getTemporary(imageId: string, yearMonth: string): ng.IHttpPromise<any>\n\n      uploadTemporaryLogo(data: any)  : ng.IHttpPromise<any>\n      uploadTemporaryCover(data: any) : ng.IHttpPromise<any>\n      uploadTemporaryInline(data: any): ng.IHttpPromise<any>\n    }\n\n\n    export interface Validation {\n      emailDuplicate(email:string): ng.IHttpPromise<any>\n      emailDuplicateForUpdate(newEmail:string, currentEmail:string): ng.IHttpPromise<any>\n      postalCode(postalCode:string): ng.IHttpPromise<any>\n      phone(phone:string): ng.IHttpPromise<any>\n    }\n\n\n    export interface Masters {\n      industries(): ng.IHttpPromise<any>\n      address(postalCode:string): ng.IHttpPromise<string>\n      benefits(jobTypeId:string): ng.IHttpPromise<string>\n      features(jobTypeId:string): ng.IHttpPromise<string>\n      occupations(): ng.IHttpPromise<any>\n      vacations(jobTypeId:string): ng.IHttpPromise<string>\n    }\n\n\n    export interface Contact {\n      send(email: string, inquiry: string): ng.IHttpPromise<any>\n    }\n  }\n\n\n  export module response {\n\n    export module pagination {\n      export interface PagingConditions {\n        offset?: number;\n        limit?: number;\n      }\n    }\n\n    export module wrapper {\n      export interface QueryResultResponse<T>{\n        requestInfo : QueryRequestInfo\n        resultInfo  : QueryResultInfo\n        hits        : Array<T>\n      }\n\n      export interface QueryResultInfo {\n        totalHits: number\n      }\n\n      export interface QueryRequestInfo {\n        offset: number\n        limit: number\n      }\n    }\n    export module configuration {\n      export interface ConfigResponse {\n        configuration: Configration\n      }\n      export interface Configration {\n        image: {\n          rootPath: string\n          maxNumberOf: number\n        }\n      }\n    }\n\n    export module utils {\n      export interface HtmlText {\n        htmlText: string\n      }\n    }\n\n    export module account {\n      export interface AccountInfoResponse {\n        account: AccountInfo\n        key: string\n      }\n      export interface AccountInfo {\n        userId: string\n        corporateId: string\n        fullName: string\n        email: string\n        roles:string[]\n      }\n    }\n    \n    export module corporate {\n      export interface CorporateInfo {\n        name: string\n      }\n    }\n    \n    export module jobs {\n\n      export interface JobListResponse {\n        jobs: Job[]\n      }\n\n      export interface Job { //V2\n        id: string;\n        openedAt: string;\n        closeAt: string;\n        jobIdAlias: string;\n        noEndDate: boolean;\n        name: string;\n        jobStatus?: string;\n        jobType: string;\n        versionNo: number;\n        updatedBy: string;\n        updatedAt: any; //TODO(kobayashi): [a] Dateにしたい\n        content?: JobDetails;\n        htmlFreeText?: string;\n        coverImage: images.CoverImage;\n        indexingStatus?: string;\n        rejectReason?: string;\n        jseJobPageUrl?: string;\n        matchingSearchCond?: boolean; // 一覧表示時の絞り込み用\n      }\n\n      export interface JobWithApplicationCount extends Job {\n        countAll?: number;\n        countNoAction?: number;\n        deadline?: string;\n        byStage?: any;\n      }\n\n      export interface JobSearchParams {\n        name?: string;\n        jobStatus?: string;\n        applicableStatus?: string;\n        indexingStatus?: string;\n      }\n\n      export interface  JobDetails { //V2\n        jobAdTitle: string;\n        salary: JobSalary;\n        locations: Array<JobLocation>;\n        locationSupplement: String;\n        descriptions: Array<JobTermDescription>;\n        markdownFreeText?: string;\n      }\n\n      export interface JobSalary { //V2\n        unit: string;\n        amountFrom: number;\n        amountTo: number;\n        supplement: string;\n      }\n\n      export interface JobLocation { //V2\n        postalCode: string;\n        address: string;\n      }\n\n      export interface JobTermDescription { //V2\n        term: string;\n        description: string;\n      }\n    }\n\n    export module interview {\n\n      export interface InterviewSearchParams extends pagination.PagingConditions {\n        interviewerId?: string; // ignored when querying one's own list\n        interviewType?: string; // DOC = 書類選考 / INT = 面接 / 設定なし ＝両方\n        keyword?      : string;\n        from?         : any; // Date or String (in UTC/ISO-861)\n        to?           : any; // Date or String (in UTC/ISO-861)\n        feedback?     : string; // Y/N or none\n      }\n\n      export interface Interview {\n        id?             : string;\n        title           : string;\n        startAt?        : string; //日時 in ISO/UTC\n        endAt?          : string; //日時 in ISO/UTC\n        place?          : string;\n        note?           : string;\n        interviewer?    : Interviewer;\n        interviewType   : string;\n        application?    : InterviewRefApplication;\n        job?            : InterviewRefJob;\n        feedbacks?      : Array<InterviewFeedback>;\n        updatedBy?      : masters.UserIdName;\n        updatedAt?      : string; //日時 in ISO/UTC\n        applicationId?  : string; //更新時のみ\n        versionNo?      : string;\n      }\n\n      export interface InterviewSummary {\n        total           : number;\n        interviews      : Array<Interview>\n      }\n\n      export interface Interviewer {\n        name    : string;\n        userId  : string; //NOTE(kitaly): null の場合有\n      }\n\n      export interface InterviewRefApplication {\n        applicationId     : string;\n        appliedAt         : string; //日時 in ISO/UTC\n        fullName          : string;\n        fullNameKana      : string;\n        lastTitle         : string;\n        lastOrganization  : string;\n        phone             : string;\n        email             : string;\n        birthDate         : masters.YearMonthDay;\n      }\n\n      export interface InterviewRefJob {\n        jobId       : string;\n        jobName     : string;\n        jobAdTitle  : string;\n      }\n\n      export interface InterviewFeedback {\n        interviewId?   : string; //NOTE(kitaly): APIからのJSONには無いので、クライアント側で挿入する必要あり\n        interviewType? : string;\n        interviewTitle?: string;\n        feedbackId?    : string;\n        grade          : string;\n        summary        : string;\n        updatedBy?     : masters.UserIdName;\n        updatedAt?     : string; //日時 in ISO/UTC\n      }\n    }\n\n    export module applications {\n\n      import UserIdName = masters.UserIdName\n      import YearMonth = masters.YearMonth\n      import YearMonthDay = masters.YearMonthDay\n\n      export interface ApplicationOverviewsResponse { // V2\n        overviews: ApplicationCountByJob[];\n      }\n\n      /**\n       * 応募者詳細APIのレスポンス\n       */\n      export interface ApplicationResponse { // V2\n        application: ApplicationInfo;\n      }\n\n      // 応募概況\n      export interface ApplicationCountByJob {\n        jobId: string;\n        countAll: number;\n        countNoAction: number;\n        byStage: Map<string, number>;\n      }\n\n      export interface ApplicationSearchParams extends pagination.PagingConditions {\n        keyword?: string;\n        jobId?: string;\n        statuses?: string; // TODO(omiend) 2.0.x :statusesはできれば複数選択にしたい\n      }\n\n      /**\n       * 応募情報 (V2)\n       */\n      export interface ApplicationInfo {\n        id: string;\n        appliedAt         : Date;\n        profile           : ApplicationProfile;\n        resumeFreeText    : string;\n        hasEmail          : boolean;\n        hasPhone          : boolean;\n        versionNo         : number;\n        updatedBy         : UserIdName;\n        updatedAt         : string;\n        createdAt         : string;\n        selectionStage    : string;\n        applicationSource : string;\n        message?          : string;\n        resume?           : Resume;\n        job?              : ApplicationJob;\n        selectionHistory? : Array<ApplicationStatus>;\n        notes?            : Array<ApplicationNote>;\n        interviews?       : Array<interview.Interview>;\n        attachments?      : Array<AttachmentInfo>;\n\n        //更新時用\n        attachmentIds?    : Array<AttachmentIdInfoAdd>; //新規作成時の添付ファイル追加用プロパティ\n        addAttachmentIds? : Array<AttachmentIdInfoAdd>; //更新時の添付ファイル追加用プロパティ\n        delAttachmentIds?  : Array<AttachmentIdInfoDelete>; //更新時の添付ファイル削除用プロパティ\n      }\n\n      /**\n       * 応募者プロフィール (V2)\n       */\n      export interface ApplicationProfile {\n        fullName: string;\n        fullNameKana: string;\n        lastOrganization?: string;\n        lastTitle?: string;\n        birthDate?: YearMonthDay;\n        gender?: string;\n        postalCode?: string;\n        address1?: string;\n        address2?: string;\n        currentOccupation?: string;\n        currentSalary?: string;\n        email: string;\n        phone: string;\n      }\n\n      /**\n       * 選考ステータス (V2)\n       */\n      export interface ApplicationStatus {\n        selectionStage: string;\n        updatedBy: UserIdName;\n        updatedAt: string;\n      }\n\n      /**\n       * 添付アップロードAPIのレスポンス\n       */\n      export interface AttachmentInfo {\n        s3Prefix    : string //既に応募に紐付けられている場合にのみ保持するプロパティ\n        corporateId : string\n        fileId      : string\n        fileName    : string\n        fileType    : string\n        size        : number\n        yearMonth   : string\n      }\n\n      /**\n       * 応募追加 or 応募更新時に添付ファイルのマッピングを更新するために使用するオブジェクト\n       */\n      export interface AttachmentIdInfoAdd {\n        fileId    : string\n        yearMonth : string\n      }\n\n      /**\n       * 応募更新時に添付ファイルのマッピングを削除するためのオブジェクト\n       */\n      export interface AttachmentIdInfoDelete {\n        prefix    : string\n        fileId    : string\n      }\n\n      /**\n       * 応募先求人 (V2)\n       */\n      export interface ApplicationJob {\n        jobId: string;\n        jobName: string;\n        jobAdTitle: string;\n      }\n\n      /**\n       * 応募ノート (V2)\n       */\n      export interface ApplicationNote {\n        noteId?    : string;\n        userId?    : string;\n        note       : string;\n        isRecOnly  : boolean;\n        updatedBy? : UserIdName;\n        updatedAt? : string;\n        createdAt? : string;\n      }\n\n      /**\n       * 面接フィードバック\n       */\n      export interface ApplicationFeedback {\n        updatedBy: UserIdName;\n        updatedAt: string;\n      }\n\n      /**\n       * 応募者のレジュメ情報\n       */\n      export interface Resume {\n        education?: ResumeEducation[];\n        work?: ResumeWork[];\n        experiencedOccupations?: Occupation[];\n        experiencedIndustries?: Industry[];\n        certifications?: ResumeCertification[];\n      }\n\n      // 学歴\n      export interface ResumeEducation {\n        degree: string;\n        schoolName: string;\n        fieldOfStudy: string;\n        status: string;\n        startDate?: YearMonth;\n        endDate?: YearMonth;\n      }\n\n      // 職歴\n      export interface ResumeWork {\n        company: string;\n        title: string;\n        employmentType: string;\n        summary: string;\n        startDate?: YearMonth;\n        endDate?: YearMonth;\n        salaryType?: string;\n        salary?: number;\n      }\n\n      /**\n       * 資格取得情報\n       */\n      export interface ResumeCertification {\n        name: string;\n        certifiedDate: YearMonth;\n      }\n\n      // 職種\n      export interface Occupation {\n        code: string;\n        name: string;\n      }\n\n      // 業種\n      export interface Industry {\n        code: string;\n        name: string;\n      }\n    }\n\n    export module images {\n  \n      /**\n       * 求人 to 画像 のマッピング等の更新に利用するためのオブジェクト\n       */\n      export interface ImageIdPrefix {\n        imageId: string;\n        prefix: string;\n      }\n      export interface CoverImage extends ImageIdPrefix{}\n      export interface LogoImage extends ImageIdPrefix{}\n      export interface InlineImage extends ImageIdPrefix{}\n  \n      /**\n       * 画像一覧取得APIから取得した際の画像データ\n       */\n      export interface PooledImage {\n        id              : string;\n        name            : string;\n        aspectRatioType : string;\n        size            : number;\n        imageType       : string;\n        prefix          : string;\n        deletable       : boolean;\n      }\n    }\n\n    export module masters {\n\n      /**\n       * 年月\n       */\n      export interface YearMonth {\n        year: number;\n        month: number;\n      }\n\n      /**\n       * 年月日\n       */\n      export interface YearMonthDay {\n        year: number;\n        month: number;\n        day: number;\n      }\n\n      /**\n       * ユーザー情報\n       */\n      export interface UserIdName {\n        userId: string;\n        name: string;\n      }\n\n\n      export interface HtmlText {\n        htmlText: string;\n      }\n\n    }\n  }\n}\n\nmodule stanby.services.common.routes {\n  export function initRoutes(){\n\n    angular.module('stanbyServices')\n      .constant('FileUploadConfig', {\n        headers: {\"Content-Type\": undefined},\n        transformRequest: null\n      })\n      .factory('routes', function($http:ng.IHttpService, FileUploadConfig):any {\n\n        return {\n          configuration: {\n            retrieve:         () => $http.get('/api/configuration')\n          },\n\n          utils: {\n            convertMarkdownToHtml:(markdownText) => $http.post('/api/utils/markdown-to-html', {markdownText: markdownText})\n          },\n\n          jobs: {\n            list: ()              => $http.get('/api/jobs'),\n            findJobs: (conditions)  => $http.get('/api/jobs', {params: conditions}),\n            detail: (jobId)       => $http.get(`/api/jobs/${jobId}`),\n            create: (data)        => $http.post('/api/jobs', data),\n            update: (jobId, data) => $http.put(`/api/jobs/${jobId}`, data),\n            detailFreeText: (jobId)  => $http.get(`/api/jobs/${jobId}/free-text/html`),\n            previewAsPc:      (data) => $http.post('/api/jobs/preview/pc', data),\n            previewAsMobile:  (data) => $http.post('/api/jobs/preview/mobile', data),\n            applyPublishing:   (jobId) => $http.put(`/api/jobs/${jobId}/publishing/apply`, {}),\n            withdrawPublishing:(jobId) => $http.put(`/api/jobs/${jobId}/publishing/withdraw`, {}),\n            cancelPublishing:  (jobId) => $http.put(`/api/jobs/${jobId}/publishing/cancel`, {}),\n            updateClosingDay:  (jobId, closeAt) => $http.put(`/api/jobs/${jobId}/publishing/closingDay`, {closeAt: closeAt}),\n            validateAlias:     (data) => $http.post('/api/jobs/validate-alias', data)\n          },\n\n          interviews: {\n            listAll   : (conditions)    => $http.get('/api/interviews', {params: conditions}),\n            listAllToday : (conditions) => $http.get('/api/interviews/today', {params: conditions}),\n            listMine  : (conditions)    => $http.get('/api/interviews/mine', {params: conditions}),\n            listMyUnrated : (conditions)  => $http.get('/api/interviews/myunrated', {params: conditions}),\n            detail    : (id)            => $http.get(`/api/interviews/${id}`),\n            create    : (interview)     => $http.post('/api/interviews', interview),\n            update    : (id, interview) => $http.put(`/api/interviews/${id}`, interview),\n            addFeedback  : (id, fb) => $http.post(`/api/interviews/${id}/feedbacks`, fb),\n            updateFeedback: (id, fbId, fb) => $http.put(`/api/interviews/${id}/feedbacks/${fbId}`, fb)\n          },\n\n          docscreenings: {\n            detail     : (id)            => $http.get(`/api/docscreening/${id}`),\n            create     : (docscreening)     => $http.post('/api/docscreening', docscreening),\n            update     : (id, docscreening) => $http.put(`/api/docscreening/${id}`, docscreening),\n            feedback   : (id, docscreeningfeedback) => $http.post(`/api/docscreening/${id}/feedbacks`, docscreeningfeedback),\n            addFeedback  : (id, fb) => $http.post(`/api/docscreening/${id}/feedbacks`, fb),\n            updateFeedback: (id, fbId, fb) => $http.put(`/api/docscreening/${id}/feedbacks/${fbId}`, fb)\n          },\n\n          applications: {\n            list:         (conditions)    => $http.get('/api/applications', {params: conditions}),\n            overviews:    ()              => $http.get('/api/applications/overviews'),\n            uploadTempFile: (data)        => $http.post(`/api/applications/attachments`, data, FileUploadConfig),\n            details:      (applicationId) => $http.get(`/api/applications/${applicationId}`),\n            fetchPhone:   (applicationId) => $http.get(`/api/applications/${applicationId}/phone`),\n            fetchEmail:   (applicationId) => $http.get(`/api/applications/${applicationId}/email`),\n            downloadAttachment: (applicationId, prefix, fileId) => $http.get(`api/applications/${applicationId}/attachments/${prefix}/${fileId}`),\n            updateStatus: (applicationId, status, versionNo) => $http.put(`/api/applications/${applicationId}/status`, { selectionStage: status, versionNo: versionNo }),\n            attachFile:   (applicationId, data) => $http.post(`/api/applications/${applicationId}/attachments`, data, FileUploadConfig),\n            create:       (data)                => $http.post(`/api/applications`, data),\n            update:       (applicationId, data) => $http.put(`/api/applications/${applicationId}`, data),\n            addNote:      (id, data)            => $http.post(`/api/applications/${id}/notes`, data),\n            updateNote:   (id, noteId, data)    => $http.put(`/api/applications/${id}/notes/${noteId}`, data)\n          },\n\n          corporate: {\n            update: (data) => $http.put('/api/corporate', data),\n            show:   ()     => $http.get('/api/corporate')\n          },\n\n          users: {\n            list:         (status, role)  => $http.get('/api/corporate/users', {params: {status: status, role: role}}),\n            details:      (userId)        => $http.get('/api/corporate/users/' + userId),\n            loginUserDetails: ()          => $http.get('/api/corporate/users/loginUserDetails'),\n            create:       (data)          => $http.post('/api/corporate/users', data),\n            update:       (userId, data)  => $http.put('/api/corporate/users/' + userId, data),\n            updateStatus: (userId, data)  => $http.put('/api/corporate/users/' + userId + '/status', data)\n          },\n\n          corporatePublic: {\n            show:         () => $http.get('/api/corporate/public'),\n            update:       (data) => $http.put('/api/corporate/public', data)\n          },\n\n          profile: {\n            show:         () => $http.get('/api/profile/show'),\n            update:       (data) => $http.put('/api/profile', data),\n            changeEmail:  (data) => $http.put('/api/profile/email', data),\n            changePassword: (data) => $http.put('/api/profile/password', data),\n            resendConfirmation:  () => $http.post('/api/profile/resend-confirmation', {})\n          },\n\n          account: {\n            login:                (data)   => $http.post('/api/account/login', data, {suppress401ErrorMsg : true}),\n            logout:               ()       => $http.post('/api/account/logout', {}),\n            signup:               (data)   => $http.post('/api/account/signup', data),\n            forgotPassword:       (data)   => $http.post('/api/account/forgot-password', data),\n            getAccountInfo:       ()       => $http.get('/api/account'),\n            verifySignup:         (token)  => $http.get('/api/account/verify-signup/' + token),\n            verifyEmailChange:    (token)  => $http.get('/api/account/verify-email-change/' + token),\n            verifyForgotPassword: (token)  => $http.get('/api/account/verify-forgot-password/' + token),\n            resetForgotPassword:  (data)   => $http.post('/api/account/reset-forgot-password', data)\n          },\n\n          images: {\n            listLogos:     () => $http.get('/api/images/logo'),\n            listCovers:    () => $http.get('/api/images/cover'),\n            listInlines:   () => $http.get('/api/images/inline'),\n\n            uploadLogo:   (data) => $http.post('/api/images/logo', data, FileUploadConfig),\n            uploadCover:  (data) => $http.post('/api/images/cover', data, FileUploadConfig),\n            uploadInline: (data) => $http.post('/api/images/inline', data, FileUploadConfig),\n\n            deleteImage:  (imageId) => $http['delete'](`/api/images/${imageId}`), //NOTE(kitaly): IE8等でdeleteは予約語だと怒られるので\n\n            getTemporary:  (imageId, yearMonth) => $http.get(`/api/tmp-images/${imageId}/` + yearMonth),\n\n            uploadTemporaryLogo:    (data) => $http.post('/api/tmp-images/logo', data, FileUploadConfig),\n            uploadTemporaryCover:   (data) => $http.post('/api/tmp-images/cover', data, FileUploadConfig),\n            uploadTemporaryInline:  (data) => $http.post('/api/tmp-images/inline', data, FileUploadConfig)\n          },\n\n          validation: {\n            emailDuplicate:     (data) => $http.post('/api/validation/email-duplicate', {'email':data}),\n            emailDuplicateForUpdate:     (newEmail, currentEmail) => $http.post('/api/validation/email-duplicate-for-update', {'newEmail':newEmail, 'currentEmail':currentEmail}),\n            postalCode:         (data) => $http.post('/api/validation/postal-code', {'postalCode': data}),\n            phone:              (data) => $http.post('/api/validation/phone', {'phone': data})\n          },\n\n          masters: {\n            address:             (postalCode) => $http.get(`/api/masters/address/${postalCode}`)\n          },\n\n          contact: {\n            send: (email, inquiry) => $http.post('/api/contact', {'email': email, 'inquiry': inquiry})\n          }\n        };\n      });\n  }\n}\n","/// <reference path=\"../../vendor_def/tsd.d.ts\" />\n/// <reference path=\"../../services/common/routes.ts\" />\n\nmodule controllers.users.corp {\n  \n  import CorpAccountModel = stanby.models.users.CorpAccountModel;\n\n  /**\n   * 企業アカウント\n   */\n  export class UserCorp {\n    corpInfo: CorpAccountModel;\n    constructor(\n      private $scope: any,\n      private $state: ng.ui.IStateService,\n      private stModal: std.Modal,\n      private stUtils: std.Utils,\n      private routes: st.Routes\n    ) {}\n\n    /* get data, load form */\n    init():void {\n      this.routes.corporate.show().success((data: CorpAccountModel) => {\n        this.corpInfo =\n        {\n          name: data.name,\n          nameKana: data.nameKana,\n          phone: data.phone,\n          phoneType: data.phoneType,\n          postalCode: data.postalCode,\n          address: data.address,\n          versionNo: data.versionNo,\n          updatedBy: data.updatedBy,\n          updatedAt: data.updatedAt,\n          details: data.details\n        };\n      });\n    }\n\n    validateForm(form): Array<string> {\n      var errArr: string[] = [];\n\n      //check length\n      var maxLength = function(entry, length){\n        if (entry.length > length) {\n          return false;\n        }\n      };\n\n      //必須項目\n      if (maxLength(form.details.contact.name, 50) == false) errArr.push(\"担当者・部署が長すぎます\" + form.details.contact.name.length);\n      if (maxLength(form.details.contact.email, 100) == false) errArr.push(\"お問い合わせ用メールアドレスが長すぎます\");\n      if (maxLength(form.details.contact.phone, 25) == false) errArr.push(\"お問い合わせ用電話番号が長すぎます\");\n      if (maxLength(form.name, 100) == false) errArr.push(\"企業名が長すぎます\");\n\n      //日付けチェック(主にIE対策)\n      var currentYear = new Date().getFullYear();\n      if (!_.isEmpty(form.details.establishedAt)) {\n        if (form.details.establishedAt.year && (Number(form.details.establishedAt.year) < 1 || Number(form.details.establishedAt.year) > currentYear)) errArr.push(\"設立年をご確認ください。\");\n        if (form.details.establishedAt.month && (Number(form.details.establishedAt.month) < 1 || Number(form.details.establishedAt.month) > 12)) errArr.push(\"設立月をご確認ください。\");\n\n        //IE9対策\n        if (form.details.establishedAt.month == \"\") delete form.details.establishedAt.month;\n        if (form.details.establishedAt.year == \"\") delete form.details.establishedAt.year;\n        if (form.details.establishedAt.month) form.details.establishedAt.month = Number(form.details.establishedAt.month);\n        if (form.details.establishedAt.year) form.details.establishedAt.year = Number(form.details.establishedAt.year);\n      };\n\n      return errArr;\n    }\n\n    /* update form */\n    updateInfo(form: ng.IFormController) {\n      var proceed = this.stModal.modalConfirm({\n        msg: '編集内容を保存します。続行しますか？'\n      });\n\n      proceed.result.then(() => {\n        /* validation */\n        var errList = this.validateForm(this.corpInfo);\n        if (!_.isEmpty(errList)){\n          this.stUtils.toastDanger(errList.join('<br/>'));\n          return;\n        }\n        this.routes.corporate.update(this.corpInfo)\n          .success((data) => {\n            this.stUtils.toastInfo(\"更新しました。\");\n            this.$state.go('corpInfo');\n          })\n          .error((data) => {\n            this.stUtils.toastDanger(\"更新失敗しました。\");\n          });\n      });\n    }\n\n  }\n}","/// <reference path=\"../../vendor_def/tsd.d.ts\" />\n/// <reference path=\"../common/routes.ts\" />\n/// <reference path=\"../../directives/common/widgets.d.ts\" />\n\n/* tslint:disable:no-unused-variable */\nimport UserDetailResponse = stanby.models.users.UserDetailResponse;\nimport UserModel = stanby.models.users.UserModel;\nimport EmailValidationResponse = stanby.models.users.EmailValidationResponse;\n/* tslint:enable */\n\nmodule stanby.services.users {\n    /**\n     * Service class to handle User Accounts operations.\n     */\n    export class UserAccountsService {\n        constructor(private routes:st.Routes,\n                    private $q:ng.IQService,\n                    private stUtils:std.Utils,\n                    private $state:ng.ui.IStateService) {\n\n        }\n\n        /**\n         * Fetch the user information from the server, returning a promise object with a UserModel\n         * @param userId The userId to fetch a UserModel for\n         * @returns {IPromise<UserModel>}\n         */\n        public getUser(userId:string):ng.IPromise<UserModel> {\n            var defer = this.$q.defer();\n            var model:UserModel;\n\n            this.routes.users.details(userId).success((data:UserDetailResponse) => {\n                model = {\n                    email: data.corpUser.email,\n                    currentEmail: data.corpUser.email,\n                    fullName: data.corpUser.fullName,\n                    status: data.corpUser.status.code,\n                    title: data.corpUser.title,\n                    versionNo: data.corpUser.versionNo,\n                    roles: data.roles.map(r => r.role),\n                    roleVersionNo: data.roles[0].versionNo\n                }\n\n                defer.resolve(model);\n            });\n\n            return defer.promise;\n        }\n\n        /**\n         * Create a new user, will test for unique email address\n         * @param user The new user to create\n         */\n        public create(user:UserModel):ng.IPromise<any> {\n            var defer = this.$q.defer();\n            var promise = defer.promise;\n\n            this.isEmailUnique(user.email)\n                .then(() => {\n                    this.doCreate(user)\n                        .then(() => {\n                            defer.resolve();\n                        }, (xhr) => {\n                            defer.reject(xhr);\n                        })\n                }, (xhr) => {\n                    defer.reject(xhr);\n                });\n\n            return promise;\n        }\n\n        /**\n         * Save function to update a user.\n         * @param userId The userId associated with the user\n         * @param user The UserModel containing the updated user details\n         * @param emailUpdated Flag to check for duplicate email addresses in the system\n         * @returns {IPromise<T>} On success the promise object is empty, on error it contains a list of error messages\n         */\n        public save(userId:string, user:UserModel, emailUpdated:boolean):ng.IPromise<any> {\n            var defer = this.$q.defer();\n            var promise = defer.promise;\n\n            // check if the email was updated and if it's unique\n            if (emailUpdated) {\n                this.isEmailUniqueForUpdate(user.email, user.currentEmail)\n                    .then(() => {\n                        this.doUpdate(userId, user)\n                            .then(() => {\n                                defer.resolve()\n                            }, (xhr) => {\n                                defer.reject(xhr)\n                            });\n                    }, (xhr) => {\n                        var errList = [];\n                        errList.push(\"すでに使用されているメールアドレスです\");\n                        this.stUtils.toastDanger(errList.join('<br/>'));\n                        defer.reject(errList);\n                    })\n            }\n            else {\n                this.doUpdate(userId, user)\n                    .then(() => {\n                        defer.resolve();\n                    }, (xhr) => {\n                        defer.reject(xhr);\n                    });\n            }\n\n            return promise;\n        }\n\n        /**\n         * Update the user's enabled/disabled status\n         * @param userId The user to update\n         * @param data An object containing {status, versionNo}\n         * @returns {IPromise<T>}  On success the promise object is empty, on error it contains a list of error messages\n         */\n        public saveUserStatus(userId:string, data:any):ng.IPromise<any> {\n            var defer = this.$q.defer();\n            var promise = defer.promise;\n\n            this.routes.users.updateStatus(userId, data)\n                .success(() => {\n                    defer.resolve();\n                })\n                .error((xhr) => {\n                    defer.reject(xhr);\n                });\n\n            return promise;\n        }\n\n        private doCreate(user:UserModel):ng.IPromise<any> {\n            var defer = this.$q.defer();\n\n            this.routes.users.create(user)\n                .success(() => {\n                    defer.resolve();\n                })\n                .error((xhr) => {\n                    defer.reject(xhr);\n                });\n\n            return defer.promise;\n        }\n\n        private doUpdate(userId:string, user:UserModel):ng.IPromise<any> {\n            var defer = this.$q.defer();\n\n            this.routes.users.update(userId, user)\n                .success(data => {\n                    defer.resolve();\n                })\n                .error(xhr => {\n                    defer.reject(xhr);\n                });\n\n            return defer.promise;\n        }\n\n        private isEmailUnique(email:string):ng.IPromise<any> {\n            var defer = this.$q.defer();\n\n            this.routes.validation.emailDuplicate(email)\n                .success((data:EmailValidationResponse) => {\n                    defer.resolve();\n                })\n                .error((xhr) => {\n                    defer.reject(xhr);\n                });\n\n            return defer.promise;\n        }\n\n        private isEmailUniqueForUpdate(newEmail:string, currentEmail:string):ng.IPromise<any> {\n            var defer = this.$q.defer();\n\n            this.routes.validation.emailDuplicateForUpdate(newEmail, currentEmail)\n                .success((data:EmailValidationResponse) => {\n                    defer.resolve();\n                })\n                .error((xhr) => {\n                    defer.reject(xhr);\n                });\n\n            return defer.promise;\n        }\n\n\n    }\n\n    export function initUserAccountsService() {\n        angular.module('stanby')\n            .service('usersAccountService', ['routes', '$q', 'stUtils', '$state', function (routes:st.Routes, $q:ng.IQService,\n                                                                                            stUtils:std.Utils, $state:ng.ui.IStateService):stanby.services.users.UserAccountsService {\n                return new stanby.services.users.UserAccountsService(routes, $q, stUtils, $state);\n            }]);\n    }\n}\n\n","/// <reference path=\"../../vendor_def/tsd.d.ts\" />\n/// <reference path=\"../../services/common/routes.ts\" />\n/// <reference path=\"../../services/users/user-accounts-service.ts\" />\n\nmodule controllers.users.create {\n\n  import UserModel = stanby.models.users.UserModel;\n\n  /**\n   * ユーザー情報の作成\n   */\n  export class UserCreate {\n    heading: string;\n    model: UserModel;\n    allRoles: string[];\n    allStatus: string[];\n    roles: string[];\n    isEnabled: boolean = true;\n    $roles: any;\n    newPassword: string;\n    display: boolean;\n    disableButton: boolean = false;\n    constructor(\n      public enums: sb.Enums,\n      private $scope,\n      private _:_.LoDashStatic,\n      private stModal: std.Modal,\n      private stUtils: std.Utils,\n      private $state: ng.ui.IStateService,\n      private usersAccountService: stanby.services.users.UserAccountsService\n    ) {\n      this.model =\n      {\n        email: \"\",\n        fullName: \"\",\n        password: \"\",\n        status: \"ENA\",\n        roles: [],\n        // must set this to allow initial duplicate email checking directive to work\n        currentEmail: \"fake@dummy.com\"\n      };\n      this.heading = 'ユーザー情報の追加';\n      this.allRoles = _.keys(this.enums.userRole);\n      this.allStatus = _.keys(this.enums.userStatus);\n      this.roles = _.keys(this.enums.userRole);\n      this.$roles = $('#user-roles');\n      this.display = false;\n    }\n\n\n    // add or remove a role from the current user\n    updateRole(role, checked) {\n      if (checked) {\n        this.roles.push(role);\n      }\n      else {\n        this.roles = _.without(this.roles, role);\n      }\n\n      // dirty the form\n      this.$scope.form1.$setDirty();\n    }\n\n    save(form: any):void {\n      this.disableButton = true;\n\n      // update the password and roles if necessary\n      this.setData(form);\n\n      var modal = this.stModal.modalConfirm({\n        msg: 'ユーザーを追加します。続行しますか？'\n      });\n\n      modal.result.then(() => {\n        this.usersAccountService.create(this.model)\n        .then(() => {\n          this.stUtils.withUpdateOkMessage(() => {\n            this.$state.transitionTo('list');\n          });\n        }, (xhr) => {\n          if (xhr.key == 'error.profile.emailDuplication') {\n            this.stUtils.toastDanger('すでに使用されているメールアドレスです');\n          }\n          else {\n            this.stUtils.toastDanger('ユーザーの追加に失敗しました。画面を再読み込みして最新の状態を確認してください。');\n          }\n        });\n      });\n    }\n\n    tooltip(role) {\n      if (role) {\n        return this.enums.userRole[role].desc;\n      }\n\n      return \"\";\n    }\n\n    private setData(form: any): void {\n      this.model.password = this.newPassword;\n      this.model.roles = this.roles;\n    }\n  }\n}\n","/// <reference path=\"../../vendor_def/tsd.d.ts\" />\n/// <reference path=\"../../services/common/routes.ts\" />\n/// <reference path=\"../../services/users/user-accounts-service.ts\" />\n\nmodule controllers.users.edit {\n  import UserModel = stanby.models.users.UserModel;\n  import UserParams = stanby.models.users.UserParams;\n\n  /**\n   * ユーザー情報の編集\n   */\n  export class UserEdit {\n    userId: string;\n    heading: string;\n    model: UserModel;\n    allRoles: string[];\n    allStatus: string[];\n    roles: string[];\n    isEnabled: boolean;\n    $roles: any;\n    dummyPassword = \"dummypassword\";\n    newPassword = this.dummyPassword;\n    statusButtonName: string;\n    isDisableStatusChange: boolean;\n    display: boolean;\n\n    constructor(\n      public enums: sb.Enums,\n      private $scope,\n      private _:_.LoDashStatic,\n      private stModal: std.Modal,\n      private stUtils: std.Utils,\n      private $state: ng.ui.IStateService,\n      private $stateParams: UserParams,\n      private stbUser: stb.UserService,\n      private usersAccountService: stanby.services.users.UserAccountsService\n    ) \n    {\n      this.heading = \"ユーザー情報の編集\";\n      this.userId = this.$stateParams.userId;\n\n      var self = this;\n\n      // NOTE(JH): moved logic for retrieving a user out to it's own service class\n      usersAccountService.getUser(self.$stateParams.userId)\n      .then(function(modelResponse) {\n        self.model = modelResponse;\n        self.display = true;\n\n        // check if account is disabled\n        stbUser.getAccountInfo(function(response) {\n          // can't disable the account if it's the current user's account\n          self.isDisableStatusChange = response.account.userId == self.userId ||\n              enums.userStatus[self.model.status] === enums.userStatus.REG;\n\n\n        });\n        if (enums.userStatus[self.model.status] === enums.userStatus.DIS) {\n          self.statusButtonName = \"ステータスを有効にする\";\n        }\n        else {\n          self.statusButtonName = \"ステータスを無効にする\";\n        }\n\n        self.isEnabled = enums.userStatus[self.model.status] === enums.userStatus.ENA;\n        self.allRoles = _.keys(enums.userRole);\n        self.allStatus = _.keys(enums.userStatus);\n        self.roles = self.model.roles;\n        self.$roles = $('#user-roles');\n      });\n\n      // bind to controller's destroy event\n      $scope.$on('$destroy', this.destroy);\n    }\n\n    private destroy():void {\n      // clean up event listeners that were added or any $timeout promises\n    }\n\n    // add or remove a role from the current user\n    updateRole(role, checked) {\n      if (checked) {\n        this.roles.push(role);\n      }\n      else {\n        this.roles = _.without(this.roles, role);\n      }\n\n      // dirty the form\n      this.$scope.form1.$setDirty();\n    }\n\n\n    /**\n     * Save the user details, navigates back to the users list page if successful. Otherwise displays\n     * error messages via stUtils.toastDanger\n     *\n     * @param form The form to save\n     */\n    save(form: any):void {\n      var modal = this.stModal.modalConfirm({\n        title: '編集内容を保存します。続行しますか？',\n        msg: '対象のユーザーが現在ログイン中の場合、編集した内容はそのユーザーが次回ログインした時から反映されます。）'\n      });\n\n      modal.result.then(() => {\n        // update the password and roles if necessary\n        this.setData(form);\n\n        this.usersAccountService.save(this.$stateParams.userId, this.model, form.email.$dirty)\n        .then(() => {\n          this.stUtils.withUpdateOkMessage(() => {\n            this.$state.transitionTo('list');\n          })\n        }, (xhr) => {\n          if (xhr.key == 'error.user.role.cannotDropAdminRole') {\n            this.stUtils.toastDanger('ログインユーザー自身の管理者権限を外すことはできません');\n          }\n          else {\n            this.stUtils.toastDanger('ユーザーの更新に失敗しました。画面を再読み込みして最新の状態を確認してください。');\n          }\n        });\n      });\n    }\n\n    /**\n     * Update the status of a user, navigates back to the users list page if successful. Otherwise displays\n     * error messages via stUtils.toastDanger\n     *\n     * @param form The form of the user to update\n     */\n    saveUserStatus(form: any):void {\n      var statusName =  this.enums.userStatus.ENA;\n      if (this.enums.userStatus[this.model.status] === this.enums.userStatus.ENA) {\n        statusName =  this.enums.userStatus.DIS;\n      }\n      var modal = this.stModal.modalConfirm({\n        msg: 'ステータスを'+ statusName +'に変更します。続行しますか？'\n      });\n\n      modal.result.then(() => {\n        this.setData(form);\n\n        this.usersAccountService.saveUserStatus(this.$stateParams.userId, {status: this.model.status, versionNo: this.model.versionNo})\n        .then(() => {\n          this.stUtils.withUpdateOkMessage(() => {\n            this.$state.transitionTo('list');\n          });\n        }, (xhr) => {\n            this.stUtils.toastDanger('ユーザーの更新に失敗しました。画面を再読み込みして最新の状態を確認してください。');\n        });\n      });\n    }\n\n    tooltip(role) {\n      if (role) {\n        return this.enums.userRole[role].desc;\n      }\n\n      return \"\";\n    }\n\n    private setData(form: any): void {\n      if(form.newPassword.$dirty && this.newPassword != this.dummyPassword){\n        this.model.password = this.newPassword;\n      }\n      this.model.roles = this.roles;\n    }\n  }\n}\n","/// <reference path=\"../../vendor_def/tsd.d.ts\" />\n/// <reference path=\"../../services/common/routes.ts\" />\n\nmodule controllers.users.list {\n\n  import UserOverview = stanby.models.users.UserOverview;\n  import UserListResponse = stanby.models.users.UserListResponse;\n\n\n  export class UserList {\n    searchParam: string = '';\n    users: UserOverview[];\n    usersForView: UserOverview[];\n    isFiltered: boolean = true;\n    status: string;\n\n    constructor(\n      public enums: sb.Enums,\n      private routes: st.Routes,\n      private $scope\n    ) {}\n\n    init(): void {\n      this.routes.users.list(status, '')\n        .success((data: UserListResponse) => {\n          this.users = data.users;\n          this.usersForView = this.users;\n          this.watchSearchParam();\n        });\n    }\n\n    watchSearchParam(): void {\n      this.$scope.$watch(() => {\n        return this.searchParam;\n      }, (newValue, oldValue) => {\n        this.filterBySearch(newValue);\n      });\n    }\n\n    filterBySearch(searchParam): void {\n      this.usersForView = _.filter(this.users, (user) => {\n        var\n          regex = new RegExp(searchParam);\n\n        if (regex.test(user.fullName) || regex.test(user.email) || regex.test(user.title)) {\n          return user;\n        }\n      });\n    }\n\n    filter(): void {\n      this.isFiltered = !this.isFiltered;\n      this.status = this.isFiltered ? null : \"DIS\";\n      this.routes.users.list(this.status, '')\n        .success(data => {\n          this.usersForView = data.users;\n        });\n    }\n\n    hasRole(roles, checkString): boolean {\n      return _.contains(roles, checkString);\n    }\n  }\n}\n","/// <reference path=\"./controllers/users/users-corp-controller.ts\" />\n/// <reference path=\"./controllers/users/users-create-controller.ts\" />\n/// <reference path=\"./controllers/users/users-edit-controller.ts\" />\n/// <reference path=\"./controllers/users/users-list-controller.ts\" />\n\nmodule stanby.page.users {\n\n  import usersCtrl = controllers.users;\n  import usersMdl = stanby.models.users;\n\n\n  export function initPage(){\n\n    angular\n      .module('stanbyControllers')\n      .controller('UserListCtrl', usersCtrl.list.UserList)\n      .controller('UserEditCtrl', usersCtrl.edit.UserEdit)\n      .controller('UserCreateCtrl', usersCtrl.create.UserCreate)\n      .controller('UserCorpCtrl', usersCtrl.corp.UserCorp)\n      .config(($stateProvider, $urlRouterProvider) => {\n\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider\n          .state('list', {\n            url: '/',\n            templateUrl: '/templates/users/list.html',\n            controller: 'UserListCtrl as c',\n            onEnter: ($rootScope) => {\n              $rootScope.$emit('breadcrumbs', [\n                { url: '/', text: 'Stanby Recruiting' },\n                { url: '', text: 'アカウント管理' }\n              ]);\n            }\n          })\n          .state('create', {\n            url: '/create',\n            templateUrl: '/templates/users/edit.html',\n            controller: 'UserCreateCtrl as c',\n            onEnter: ($rootScope) => {\n              $rootScope.$emit('breadcrumbs', [\n                { url: '/', text: 'Stanby Recruiting' },\n                { url: '/users#/', text: 'アカウント管理' },\n                { url: '', text: 'ユーザー情報の追加' }\n              ]);\n            }\n          })\n          .state('edit', {\n            url: '/:userId/edit',\n            templateUrl: '/templates/users/edit.html',\n            controller: 'UserEditCtrl as c',\n            resolve: {\n              userPromise: ($stateParams: ng.ui.IStateParamsService, routes: st.Routes): ng.IHttpPromise<usersMdl.UserDetailResponse> => {\n                var userId = $stateParams['userId'];\n                return routes.users.details(userId);\n              }\n            },\n            onEnter: ($rootScope) => {\n              $rootScope.$emit('breadcrumbs', [\n                { url: '/', text: 'Stanby Recruiting' },\n                { url: '/users#/', text: 'アカウント管理' },\n                { url: '', text: 'ユーザー情報の編集' }\n              ]);\n            }\n          })\n          .state('corpInfo', {\n            url: '/corpInfo',\n            templateUrl: 'templates/users/corpInfo.html',\n            controller: 'UserCorpCtrl as c',\n            onEnter: ($rootScope) => {\n              $rootScope.$emit('breadcrumbs', [\n                { url: '/', text: 'Stanby Recruiting' },\n                { url: '/users#/', text: 'アカウント管理' },\n                { url: '', text: '企業アカウント' }\n              ]);\n            }\n          })\n          .state('corpEdit', {\n            url: '/corpEdit',\n            templateUrl: 'templates/users/corpEdit.html',\n            controller: 'UserCorpCtrl as c',\n            onEnter: ($rootScope) => {\n              $rootScope.$emit('breadcrumbs', [\n                { url: '/', text: 'Stanby Recruiting' },\n                { url: '/users#/', text: 'アカウント管理' },\n                { url: '/users#/corpInfo', text: '企業アカウント' },\n                { url: '', text: '企業アカウントの編集' }\n              ]);\n            }\n          });\n      })\n    ;\n  }\n}\n\nstanby.page.users.initPage();\nstanby.directives.users.inputs.initFormInputs();\nstanby.services.users.initUserAccountsService();"],"sourceRoot":"/source/"}